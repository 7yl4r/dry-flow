<!--
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">

<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tab.html">

<link rel="import" href="../bower_components/app-pouchdb/app-pouchdb-query.html">
<link rel="import" href="../bower_components/app-pouchdb/app-pouchdb-document.html">
<link rel="import" href="../bower_components/app-pouchdb/app-pouchdb-conflict-resolution.html">
<!--
<link rel="import" href="../bower_components/iron-input/iron-input.html">
 -->
<dom-module id="my-dry-flow">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }
    </style>

    <!-- ############ DATABASE SETUP ############ -->
    <app-pouchdb-confict-resolution
        strategy="firstWriteWins">
    </app-pouchdb-conflict-resolution>

    <app-pouchdb-document
        db-name="dry-flow"
        doc-id="test-document"
        data={{test_obj}}>
    </app-pouchdb-document>
    <!-- addtnl attribs:
        id="document"
    -->

    <!-- <app-pouchdb-sync
        src="https://7yl4r.cloudant.com/dry-flow"
        target="dry-flow"
        bidirectional>
    </app-pouchdb-sync>
    -->

    <!-- ############ MAIN APP AREA ############ -->
    <div class="card">
        Component Descriptions
        <paper-tabs selected="{{selected}}" scrollable>
          <paper-tab>The first tab</paper-tab>
          <paper-tab>Tab two</paper-tab>
          <paper-tab>The third tab</paper-tab>
          <paper-tab> (+) </paper-tab>
        </paper-tabs>
        <iron-pages selected="{{selected}}">
            <div>
                BEGIN

                <input type="text" value="{{test_obj.name::change}}">

<!--
                <input
                    is="iron-input"
                    bind-value="{{test_obj.name}}">
                </input>
 -->
                name: {{test_obj.name}}

                END
            </div>
            <div>CONTENT TWO</div>
            <div>CONTENT THREE</div>
            <div>TODO: create new...</div>
        </iron-pages>
    </div>
  </template>

  <script>
    class DryFlow extends Polymer.Element {
      static get is() { return 'my-dry-flow'; }
    }

    window.customElements.define(DryFlow.is, DryFlow);
  </script>
</dom-module>
